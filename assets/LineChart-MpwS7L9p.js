import{j as n}from"./jsx-runtime-u17CrQMm.js";import{r as l}from"./iframe-C9rKyUM3.js";import"./periods-BueKGNxC.js";import{T as H,a as M,b as W}from"./index-DwtgxC_w.js";const P=({svgRect:t,xDataLength:r})=>{const{width:e}=t,a=e/r,s=a*(r-1),i=(e-s)/2;return Array.from({length:r}).map((o,u)=>({x:u*a+i,y:0}))},I=t=>t.filter(r=>r.y!==null),G=({svgRect:t,adjustedHeight:r,series:e,maximumY:a})=>{const{width:s}=t,i=e.data.mainX.length,o=s/i,u=o*(i-1),d=(s-u)/2;return Array.from({length:i}).map((m,c)=>({x:c*o+d,y:e.data.mainY[c]?.amount===null||e.data.mainY[c]?.amount===void 0?null:r-Number(e.data.mainY[c].amount)/a*r}))},T={TICK_HEIGHT:11,GUIDE_LINE_STROKE_WIDTH:1.5,DOT_RADIUS:2.5,LINE_STROKE_WIDTH:1,XAXIS_STROKE_WIDTH:1.5,XAXIS_RIGHT_OFFSET:1,XAXIS_RIGHT_ARROW_X_OFFSET:4,XAXIS_RIGHT_ARROW_Y_OFFSET:4,XAXIS_Y_OFFSET:28,GRADIENT_COLOR:"#009AFA",X_AXIS_LABEL_OFFSET:5,GUIDE_LINE_DASH_ARRAY:"4 4"},A=[{amount:"00:00",unit:""},{amount:"02:00",unit:""},{amount:"04:00",unit:""},{amount:"06:00",unit:""},{amount:"08:00",unit:""},{amount:"10:00",unit:""},{amount:"12:00",unit:""},{amount:"14:00",unit:""},{amount:"16:00",unit:""},{amount:"18:00",unit:""},{amount:"20:00",unit:""},{amount:"22:00",unit:""}],te={color:"var(--color-brand-200)",data:{mainX:A,mainY:[{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"},{amount:null,unit:"건"}],subX:A,subY:[{amount:52.1,unit:"만"},{amount:61.2,unit:"만"},{amount:44.8,unit:"만"},{amount:72.3,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"},{amount:null,unit:"만"}]}},ne={color:"var(--color-grey-400)",data:{mainX:A,mainY:[{amount:18,unit:"건"},{amount:32,unit:"건"},{amount:14,unit:"건"},{amount:41,unit:"건"},{amount:37,unit:"건"},{amount:46,unit:"건"},{amount:53,unit:"건"},{amount:49,unit:"건"},{amount:43,unit:"건"},{amount:39,unit:"건"},{amount:25,unit:"건"},{amount:12,unit:"건"}],subX:A,subY:[{amount:"21.4",unit:"만"},{amount:36.8,unit:"만"},{amount:16.2,unit:"만"},{amount:47.1,unit:"만"},{amount:42.5,unit:"만"},{amount:52.9,unit:"만"},{amount:61,unit:"만"},{amount:56.4,unit:"만"},{amount:49.5,unit:"만"},{amount:44.9,unit:"만"},{amount:28.7,unit:"만"},{amount:13.8,unit:"만"}]}},re={color:"var(--color-grey-400)",data:{mainX:[{amount:"1월 15일",unit:""},{amount:"1월 16일",unit:""},{amount:"1월 17일",unit:""},{amount:"1월 18일",unit:""},{amount:"1월 19일",unit:""},{amount:"1월 20일",unit:""},{amount:"오늘",unit:""}],mainY:[{amount:15,unit:"건"},{amount:12,unit:"건"},{amount:20,unit:"건"},{amount:18,unit:"건"},{amount:25,unit:"건"},{amount:22,unit:"건"},{amount:14,unit:"건"}],subX:[{amount:"1월 15일",unit:""},{amount:"1월 16일",unit:""},{amount:"1월 17일",unit:""},{amount:"1월 18일",unit:""},{amount:"1월 19일",unit:""},{amount:"1월 20일",unit:""},{amount:"오늘",unit:""}],subY:[{amount:52.4,unit:"만"},{amount:41.2,unit:"만"},{amount:72.3,unit:"만"},{amount:65.8,unit:"만"},{amount:88.1,unit:"만"},{amount:79.4,unit:"만"},{amount:48.9,unit:"만"}]}},K=({coordinate:t})=>{const r=I(t),e=r.reduce((a,{x:s,y:i},o)=>o===0?`M ${s} ${i}`:`${a} L ${s} ${i}`,"");return{filteredCoordinate:r,pathD:e}},V=({coordinateCount:t,pathD:r})=>{const e=l.useRef(null),a=l.useRef(0),s=l.useRef(0);return l.useLayoutEffect(()=>{if(!e.current||!r)return;let i=null;if(s.current!==t){s.current=t;const o=e.current.getTotalLength();e.current.style.strokeDasharray=`${o}`,e.current.style.strokeDashoffset=`${o-a.current}`,e.current.style.transition="none",a.current=o,i=requestAnimationFrame(()=>{e.current&&(e.current.style.transition="stroke-dashoffset 1s ease-in-out",e.current.style.strokeDashoffset="0")})}else e.current.style.removeProperty("stroke-dasharray"),e.current.style.removeProperty("stroke-dashoffset"),e.current.style.transition="d 0.5s ease-in-out";return()=>{i&&cancelAnimationFrame(i)}},[e,r,t]),{lineRef:e}},B=()=>{const t=l.useId(),r=l.useId(),e=l.useId(),a=l.useId();return{lineGradientId:t,backgroundGradientId:r,titleId:e,descId:a}},U=({primarySeries:t,secondarySeries:r,hasXAxis:e=!1})=>{const[a,s]=l.useState(null),[i,o]=l.useState(0),u=l.useRef(null),d=l.useRef(null),m=l.useMemo(()=>t.data.mainX.map(p=>p.amount??""),[t.data.mainX]),c=l.useMemo(()=>a===null?[]:P({svgRect:a,xDataLength:t.data.mainX.length}),[a,t.data.mainX.length]),g=l.useMemo(()=>{const p=[...t.data.mainY.map(h=>h.amount),...r?.data.mainY.map(h=>h.amount)??[]].flat(),_=p.length>0?Math.max(...p.filter(h=>h!==null).map(Number)):10;return Math.ceil(Math.ceil(_*1.5)/10)*10},[t.data.mainY,r?.data.mainY]),f=l.useMemo(()=>a===null?[]:G({svgRect:a,adjustedHeight:i,series:t,maximumY:g}),[a,i,t,g]),x=l.useMemo(()=>{const p=I(f);return p.length===0?0:p[p.length-1].x},[f]),y=l.useMemo(()=>a===null||r===void 0?[]:G({svgRect:a,adjustedHeight:i,series:r,maximumY:g}),[a,i,r,g]);return l.useLayoutEffect(()=>{u.current&&(s(u.current.getBoundingClientRect()),o(u.current.getBoundingClientRect().height),e&&d.current&&o(d.current.getBoundingClientRect().y-u.current.getBoundingClientRect().y+d.current.getBoundingClientRect().height/2))},[u,d,e]),{svgRect:a,adjustedHeight:i,xLabelList:m,xCoordinate:c,lastXCoordinate:x,primaryCoordinate:f,secondaryCoordinate:y,svgRef:u,xAxisRef:d,filterCoordinate:I}},L=l.memo(({adjustedHeight:t,lastXCoordinate:r,gradientId:e})=>n.jsx("rect",{x:0,y:0,width:r,height:t,fill:`url(#${e})`,className:"transition-all duration-1000"}));L.displayName="GradientBackground";L.__docgenInfo={description:"",methods:[],displayName:"GradientBackground",props:{adjustedHeight:{required:!0,tsType:{name:"number"},description:""},lastXCoordinate:{required:!0,tsType:{name:"number"},description:""},gradientId:{required:!0,tsType:{name:"string"},description:""}}};const Y=({lineGradientId:t,backgroundGradientId:r})=>{const{GRADIENT_COLOR:e}=T;return n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:t,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),n.jsx("stop",{offset:"75%",stopColor:e,stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0.7"})]}),n.jsxs("linearGradient",{id:r,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0"}),n.jsx("stop",{offset:"73.97%",stopColor:e,stopOpacity:"0.03"}),n.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0.06"})]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"LineChartGradient",props:{lineGradientId:{required:!0,tsType:{name:"string"},description:""},backgroundGradientId:{required:!0,tsType:{name:"string"},description:""}}};const $=({series:t,activeTooltip:r,tooltipContent:e,coordinate:a,color:s})=>{const{DOT_RADIUS:i}=T,o=I(a);return r?n.jsx(n.Fragment,{children:o.map(({x:u,y:d},m)=>{const c=`${t.data.mainY[m].amount??""}${t.data.mainY[m].unit??""}`,g=`${t.data.subY[m]?.amount??""}${t.data.subY[m]?.unit??""}`,f=e(c,g);return n.jsxs(H,{children:[n.jsx(M,{asChild:!0,children:n.jsx("circle",{cx:u,cy:d,r:i,fill:s,role:"graphics-symbol",stroke:"none",className:"hover:brightness-75 hover:saturate-200",tabIndex:0,"aria-label":f,style:{transition:"cx 0.5s ease-in-out, cy 0.5s ease-in-out"}})}),n.jsx(W,{side:"top",className:"rounded-150 bg-grey-900 [&_svg]:fill-grey-900 [&_svg]:-translate-y-1 [&_svg]:rotate-0",children:n.jsx("p",{className:"text-grey-100 caption-medium-semibold",children:f})})]},m)})}):n.jsx(n.Fragment,{children:o.map(({x:u,y:d},m)=>n.jsx("circle",{cx:u,cy:d,r:i,fill:s,stroke:"none",role:"graphics-symbol",tabIndex:0,"aria-label":`${t.data.mainX[m].amount} ${t.data.mainX[m].unit}`,style:{transition:"cx 0.5s ease-in-out, cy 0.5s ease-in-out"}},m))})};$.__docgenInfo={description:"",methods:[],displayName:"Dots",props:{series:{required:!0,tsType:{name:"LineChartSeries"},description:""},activeTooltip:{required:!0,tsType:{name:"boolean"},description:""},tooltipContent:{required:!0,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:""},coordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},color:{required:!0,tsType:{name:"string"},description:""}}};const O=({coordinate:t,color:r,hasGradient:e=!1,gradientId:a})=>{const{LINE_STROKE_WIDTH:s}=T,{filteredCoordinate:i,pathD:o}=K({coordinate:t}),{lineRef:u}=V({coordinateCount:i.length,pathD:o});return n.jsx("path",{d:o,stroke:e?`url(#${a})`:r,strokeWidth:s,fill:"none",ref:u})};O.__docgenInfo={description:"",methods:[],displayName:"Line",props:{coordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},color:{required:!0,tsType:{name:"string"},description:""},hasGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},gradientId:{required:!1,tsType:{name:"string"},description:""}}};const b=({coordinate:t,color:r,hasGradient:e=!1,gradientId:a,series:s,activeTooltip:i,tooltipContent:o})=>n.jsxs(n.Fragment,{children:[n.jsx(O,{coordinate:t,color:r,hasGradient:e,gradientId:a}),n.jsx($,{series:s,activeTooltip:i,tooltipContent:o,coordinate:t,color:r})]});b.__docgenInfo={description:"",methods:[],displayName:"Series",props:{coordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},color:{required:!0,tsType:{name:"string"},description:""},hasGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},gradientId:{required:!1,tsType:{name:"string"},description:""},series:{required:!0,tsType:{name:"LineChartSeries"},description:""},activeTooltip:{required:!0,tsType:{name:"boolean"},description:""},tooltipContent:{required:!0,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:""}}};const X=l.memo(({viewBoxWidth:t,viewBoxHeight:r,axisType:e,ref:a})=>{const{XAXIS_STROKE_WIDTH:s,XAXIS_Y_OFFSET:i,TICK_HEIGHT:o,XAXIS_RIGHT_OFFSET:u,XAXIS_RIGHT_ARROW_X_OFFSET:d,XAXIS_RIGHT_ARROW_Y_OFFSET:m}=T,c=r-i,g=`M ${s/2} ${c-o/2} v ${o}`,f=`M 0 ${c} h ${t-u}`,x=`m -${s/2} -${o/2} v ${o}`,y=`m -${d} -${m} L ${t-u} ${c} L ${t-u-d} ${c+m}`;let p="";switch(e){case"default":p=f;break;case"tick":p=`${g} ${f} ${x}`;break;case"right-arrow":p=`${f} ${y}`;break;default:p=f}return n.jsx("path",{d:p,strokeWidth:s,stroke:"currentColor",strokeLinecap:"round",className:"text-grey-400","aria-hidden":"true",fill:"none",ref:a})});X.displayName="XAxis";X.__docgenInfo={description:"",methods:[],displayName:"XAxis",props:{viewBoxWidth:{required:!0,tsType:{name:"number"},description:""},viewBoxHeight:{required:!0,tsType:{name:"number"},description:""},axisType:{required:!0,tsType:{name:"XAxisType"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"SVGPathElement | null",elements:[{name:"SVGPathElement"},{name:"null"}]}],raw:"RefObject<SVGPathElement | null>"},description:""}}};const j=l.memo(({viewBoxHeight:t,xLabelList:r,xCoordinate:e})=>{const{X_AXIS_LABEL_OFFSET:a}=T;return n.jsx("g",{className:"flex justify-between",children:e.map(({x:s},i)=>n.jsx("text",{x:s??0,y:t-a,textAnchor:"middle",className:"text-grey-900 body-small-medium",children:r[i]},i))})});j.displayName="XAxisLabel";j.__docgenInfo={description:"",methods:[],displayName:"XAxisLabel",props:{viewBoxHeight:{required:!0,tsType:{name:"number"},description:""},xLabelList:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number)[]"},description:""},xCoordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""}}};const E=l.memo(({xCoordinate:t,svgRect:r,adjustedHeight:e})=>{if(r===null)return null;const{TICK_HEIGHT:a,GUIDE_LINE_STROKE_WIDTH:s,GUIDE_LINE_DASH_ARRAY:i}=T,o=t.map(({x:d})=>`M ${d} 0 v ${e-a/2}`).join(" "),u=t.map(({x:d})=>`M ${d} ${e-a/2} v ${a}`).join(" ");return n.jsxs(n.Fragment,{children:[n.jsx("path",{d:o,strokeWidth:s,stroke:"currentColor",strokeDasharray:i,className:"text-grey-300","aria-hidden":"true"}),n.jsx("path",{d:u,strokeWidth:s,stroke:"currentColor",strokeLinecap:"round",className:"text-grey-400","aria-hidden":"true"})]})});E.displayName="XGuideLine";E.__docgenInfo={description:"",methods:[],displayName:"XGuideLine",props:{xCoordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},svgRect:{required:!0,tsType:{name:"union",raw:"DOMRect | null",elements:[{name:"DOMRect"},{name:"null"}]},description:""},adjustedHeight:{required:!0,tsType:{name:"number"},description:""}}};const D=l.memo(({svgRect:t,adjustedHeight:r,yGuideLineCount:e})=>{if(t===null)return null;const{GUIDE_LINE_STROKE_WIDTH:a,GUIDE_LINE_DASH_ARRAY:s}=T,i=r/e,u=Array.from({length:e}).reduce((d,m,c)=>[...d,[0,c*i+a/2]],[]).map(([d,m])=>`M ${d} ${m} h ${t.width}`).join(" ");return n.jsx("path",{d:u,strokeWidth:a,stroke:"currentColor",strokeDasharray:s,className:"text-grey-300","aria-hidden":"true"})});D.displayName="YGuideLine";D.__docgenInfo={description:"",methods:[],displayName:"YGuideLine",props:{svgRect:{required:!0,tsType:{name:"union",raw:"DOMRect | null",elements:[{name:"DOMRect"},{name:"null"}]},description:""},adjustedHeight:{required:!0,tsType:{name:"number"},description:""},yGuideLineCount:{required:!0,tsType:{name:"number"},description:""}}};const z=({viewBoxWidth:t,viewBoxHeight:r,hasXAxis:e=!1,hasGradient:a=!1,showXGuideLine:s=!1,showYGuideLine:i=!1,primarySeries:o,secondarySeries:u,yGuideLineCount:d,activeTooltip:m=!1,tooltipContent:c=(...y)=>y.join(" "),chartTitle:g,chartDescription:f,xAxisType:x})=>{const{lineGradientId:y,backgroundGradientId:p,titleId:_,descId:R}=B(),{svgRect:h,adjustedHeight:C,xLabelList:S,xCoordinate:q,lastXCoordinate:N,primaryCoordinate:v,secondaryCoordinate:k,svgRef:w,xAxisRef:F}=U({primarySeries:o,secondarySeries:u,hasXAxis:e});return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:`0 0 ${t} ${r}`,ref:w,role:"graphics-document","aria-labelledby":_,"aria-describedby":R,children:[n.jsxs("g",{children:[n.jsx("title",{id:_,children:g}),n.jsx("desc",{id:R,children:f})]}),n.jsx(Y,{lineGradientId:y,backgroundGradientId:p}),a&&n.jsx(L,{adjustedHeight:C,lastXCoordinate:N,gradientId:p}),i&&n.jsx(D,{svgRect:h,adjustedHeight:C,yGuideLineCount:d}),s&&n.jsx(E,{xCoordinate:q,svgRect:h,adjustedHeight:C}),e&&n.jsxs(n.Fragment,{children:[n.jsx(X,{viewBoxWidth:t,viewBoxHeight:r,axisType:x,ref:F}),n.jsx(j,{xLabelList:S,xCoordinate:q,viewBoxHeight:r})]}),n.jsx(b,{coordinate:v,color:o.color,hasGradient:a,gradientId:y,series:o,activeTooltip:m,tooltipContent:c}),u&&n.jsx(b,{coordinate:k,color:u.color,series:u,activeTooltip:m,tooltipContent:c})]})};z.__docgenInfo={description:"",methods:[],displayName:"LineChart",props:{viewBoxWidth:{required:!0,tsType:{name:"number"},description:"꺾은선 차트의 너비"},viewBoxHeight:{required:!0,tsType:{name:"number"},description:"꺾은선 차트의 높이"},hasXAxis:{required:!1,tsType:{name:"boolean"},description:"X축과 X축 레이블 표시 여부",defaultValue:{value:"false",computed:!1}},hasGradient:{required:!1,tsType:{name:"boolean"},description:"꺾은선 차트의 그라데이션 표시 여부 (실시간 + 과거 데이터 표시 시 사용)",defaultValue:{value:"false",computed:!1}},showXGuideLine:{required:!1,tsType:{name:"boolean"},description:"X축 가이드 라인 표시 여부 (X축과 수직으로 표시되는 점선, 개수는 x축 데이터와 동일)",defaultValue:{value:"false",computed:!1}},showYGuideLine:{required:!1,tsType:{name:"boolean"},description:"Y축 가이드 라인 표시 여부 (Y축과 수평으로 표시되는 점선)",defaultValue:{value:"false",computed:!1}},yGuideLineCount:{required:!0,tsType:{name:"number"},description:"Y축 가이드 라인 개수 (Y축과 수평으로 표시되는 점선의 개수)"},primarySeries:{required:!0,tsType:{name:"LineChartSeries"},description:"꺾은선 차트 첫 번쩨 데이터 (실시간 데이터 or 단일 데이터) - 차트의 색상은 primarySeries의 color 속성에 따라 자동으로 설정됨"},secondarySeries:{required:!1,tsType:{name:"LineChartSeries"},description:"꺾은선 차트 두 번쩨 데이터 (평균 데이터) - 차트의 색상은 secondarySeries의 color 속성에 따라 자동으로 설정됨"},activeTooltip:{required:!1,tsType:{name:"boolean"},description:"각 데이터의 툴팁 표시 여부",defaultValue:{value:"false",computed:!1}},tooltipContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:"각 데이터의 툴팁 내용 표시 함수 (실시간 데이터와 평균 데이터의 값을 받아 표시 ex: (mainY, subY) => {mainY} {subY}))",defaultValue:{value:"(...args: string[]) => args.join(' ')",computed:!1}},chartTitle:{required:!1,tsType:{name:"string"},description:"꺾은선 차트 제목 (title 태그 내용: 스크린 리더 접근성 시 사용)"},chartDescription:{required:!1,tsType:{name:"string"},description:"꺾은선 차트 설명 (desc 태그 내용: 스크린 리더 접근성 시 사용)"},xAxisType:{required:!0,tsType:{name:"XAxisType"},description:"X축 타입 (일반, 양쪽 세로선, 오른쪽 화살표)"}}};export{z as L,te as P,ne as S,A as T,re as W,E as X,D as Y,G as a,X as b,j as c,P as g};
